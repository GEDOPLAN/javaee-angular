<div class="ui-g ui-fluid">
  <div class="ui-g-12 ui-md-8 ui-md-offset-2" *ngIf="book;else loading">
    <form (ngSubmit)="save()">
      <div class="ui-float-label">
        <input pInputText type="number" id="idfield" readonly="readonly" name="id" [(ngModel)]="book.id">
        <label for="idfield">ID</label>
      </div>
      <div class="ui-float-label">
        <input pInputText type="text" id="titlefield" name="title" [(ngModel)]="book.title">
        <label for="titlefield">Titel</label>
      </div>
      <div class="ui-float-label">
        <input pInputText type="number" id="pagesfield" name="pages" [(ngModel)]="book.pages">
        <label for="pagesfield">Seiten</label>
      </div>
      <div class="ui-float-label">
        <p-autoComplete *ngIf="publisherList" id="publisherfield" [(ngModel)]="publisherList.selected" [suggestions]="publisherList.filtered"
          (completeMethod)="publisherList.filter($event)" [dropdown]="true" name="publisher" field="value" forceSelection="true"
          (onSelect)="book.publisher=publisherList.getIdObject()">
        </p-autoComplete>
        <label for="publisherfield">Verlag</label>
      </div>
      <div class="ui-float-label" *ngIf="authorList">
        <p-autoComplete [multiple]="true" id="authorField" [(ngModel)]="authorList.selected" [suggestions]="authorList.filtered"
          (completeMethod)="authorList.filter($event)" [size]="30" [minLength]="1" [dropdown]="true" name="author" field="value"
          forceSelection="true" (onSelect)="book.authors=authorList.getIdObject()" (onUnselect)="book.authors=authorList.getIdObject()">
        </p-autoComplete>
        <label for="authorField">Authoren</label>
      </div>
      <div class="ui-g-12 ui-md-4 ui-md-offset-2">
        <p-button type="submit" label="submit"></p-button>
      </div>
      <div class="ui-g-12 ui-md-offset-2 ui-md-4">
        <p-button [routerLink]="[ '/books'] " label="cancel"></p-button>
      </div>
    </form>
  </div>

  <ng-template #loading>
    <div class="center ui-g-12">
      <img src="../../../assets/images/loading.gif " alt="loading " class="loading " />
    </div>
  </ng-template>
</div>
